<!DOCTYPE html>
<html>

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>VIDEO HYPE : World Wide Wide</title>

        <style>
            div {
                background-color: magenta;
                position: absolute;
                width: 100px;
                height: 100px;
            }
        </style>

        <script src="/socket.io/socket.io.js"></script>
        <script>
            document.addEventListener('DOMContentLoaded', function () {
                let width = document.documentElement.clientWidth;
                let height = document.documentElement.clientHeight;

                const socket = io();

                const follower = document.getElementById('follower');

                document.addEventListener('mousemove', function (e) {
                    var mouseX = e.clientX;
                    var mouseY = e.clientY;

                    socket.emit('mousePosition', { mouseX: mouseX / width, mouseY: mouseY / height });

                    follower.style.left = mouseX + 'px';
                    follower.style.top = mouseY + 'px';
                });

                socket.on('mousePosition', function (mousePosition) {
                    follower.style.left = mousePosition.mouseX * width + 'px';
                    follower.style.top = mousePosition.mouseY * height + 'px';
                });

                window.addEventListener('resize', function(event) {
                    width = document.documentElement.clientWidth;
                    height = document.documentElement.clientHeight;
                });
            });
        </script>
    </head>

    <body>
        <div id="follower"></div>
    </body>

</html>