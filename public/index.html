<!DOCTYPE html>
<html>

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>VIDEO HYPE : World Wide Wide</title>

        <style>
            div {
                background-color: magenta;
                position: absolute;
                width: 100px;
                height: 100px;
            }
        </style>

        <script src="/socket.io/socket.io.js"></script>
        <script>
            document.addEventListener('DOMContentLoaded', function () {
                const socket = io();

                document.addEventListener('mousemove', function (e) {
                    var follower = document.getElementById('follower');
                    var mouseX = e.clientX;
                    var mouseY = e.clientY;
                    follower.style.left = mouseX + 'px';
                    follower.style.top = mouseY + 'px';

                    socket.emit('mousePosition', { mouseX, mouseY });
                });

                socket.on('mousePosition', function (mousePosition) {
                    follower.style.left = mousePosition.mouseX + 'px';
                    follower.style.top = mousePosition.mouseY + 'px';
                });

                function loop() {
                    requestAnimationFrame(loop);
                }
                requestAnimationFrame(loop);
            });
        </script>
    </head>

    <body>
        <div id="follower"></div>
    </body>

</html>