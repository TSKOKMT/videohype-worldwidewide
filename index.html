<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>DOM Sync Example</title>
<script src="/socket.io/socket.io.js"></script>
<script>
document.addEventListener('DOMContentLoaded', function() {
    const socket = io();

    // ボタンクリックで現在のDOMをサーバーに送信
    document.getElementById('sendButton').addEventListener('click', function() {
        const htmlContent = document.documentElement.outerHTML;
        socket.emit('sendHtml', htmlContent);
    });

    // サーバーからHTMLを受け取ったらDOMを更新
    socket.on('htmlReceived', function(html) {
        document.open();
        document.write(html);
        document.close();
    });
});
</script>
</head>
<body>
    <h1>Hello, this is a test page</h1>
    <button id="sendButton">Send DOM to Others</button>
</body>
</html>
